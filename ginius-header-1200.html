<script>
    const getAllImage = document.querySelectorAll('.lest_img');
    const getAllContent = document.querySelectorAll('.content_item');
    function removeActive() {
        getAllImage.forEach(item => item.setAttribute('show_status', false));
        getAllContent.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.offcanvas_menu .elementor-icon-list-items li').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeActive();
            getAllImage[index].setAttribute('show_status', true);
            getAllContent[index].setAttribute('show_status', true);
        })
    });

    // headmenue
    document.addEventListener('DOMContentLoaded', function () {
        const menu = document.querySelector('.head-menue-content');
        const menuItems = document.querySelectorAll('.head-menue-item .menu-item');
        const contents = document.querySelectorAll('.head-menue-content');
        // 	  const contents = document.querySelectorAll('.sub-menu-content');

        menuItems.forEach((item, index) => {
            // 		if (contents.length > 0) {
            //     contents[0].classList.add('active');
            //   }

            item.addEventListener('mouseenter', () => {
                contents.forEach(c => c.classList.remove('active'));
                if (contents[index]) {
                    contents[index].classList.add('active');
                }
            });
        });

        menu.addEventListener('mouseleave', () => {
            contents.forEach(c => c.classList.remove('active'));
        });
    });
    // end headmenue

    const getAllHeadContent = document.querySelectorAll('.head-menue-content');
    function removeHeadActive() {
        getAllHeadContent.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.head-menue-item .menu-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeHeadActive();
            getAllHeadContent[index].setAttribute('show_status', true);
        })
    });

    getAllHeadContent.forEach(item => {
        item.addEventListener('mouseleave', () => {
            removeHeadActive();
        });
    });


    // Submenu
    document.addEventListener('DOMContentLoaded', function () {
        const iconItems = document.querySelectorAll(
            '.sub-menu-item .elementor-icon-list-item'
        );
        const contents = document.querySelectorAll('.sub-menu-content');
        if (contents.length > 0) {
            contents[0].classList.add('active');
        }
        iconItems.forEach((item, index) => {
            item.addEventListener('mouseenter', () => {
                contents.forEach(c => c.classList.remove('active'));
                if (contents[index]) {
                    contents[index].classList.add('active');
                }
            });
        });
    });


    // atribute for submenu
    // submenu 1
    const getAllSubContent = document.querySelectorAll('.sub-menu-content');
    function removeSubActive() {
        getAllSubContent.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.sub-menu-item .elementor-icon-list-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeSubActive();
            getAllSubContent[index].setAttribute('show_status', true);
        })
    });
    // submenu 2
    const getAllSubContent2 = document.querySelectorAll('.sub-menu-content2');
    function removeSubActive2() {
        getAllSubContent2.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.sub-menu-item2 .elementor-icon-list-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeSubActive2();
            getAllSubContent2[index].setAttribute('show_status', true);
        })
    });
    // submenu3
    const getAllSubContent3 = document.querySelectorAll('.sub-menu-content3');
    function removeSubActive3() {
        getAllSubContent3.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.sub-menu-item3 .elementor-icon-list-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeSubActive3();
            getAllSubContent3[index].setAttribute('show_status', true);
        })
    });


    // end submenu


</script>


<style>
    .e-off-canvas[aria-hidden="false"] .e-off-canvas__content {
        transform: scaleX(1);
        transform-origin: center;
        will-change: transform, opacity;
        transition: transform 0.45s ease-in-out, opacity 0.3s ease-in-out;
        opacity: 1;
    }

    .e-off-canvas[aria-hidden="true"] .e-off-canvas__content {
        transform: scaleX(0.01);
        transform-origin: center;
        opacity: 0;
        will-change: transform, opacity;
        transition: transform 0.45s ease-in-out, opacity 0.3s ease-in-out;
    }
</style>


<!-- Workable Code for line by line animation of offcanvas menu item -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const offCanvas = document.querySelector('.e-off-canvas'); // Elementor offcanvas wrapper
        const menuItems = document.querySelectorAll('.offcanvas_menu li');
        const subMenuContent = document.querySelectorAll('.content_item li');

        if (!offCanvas || menuItems.length === 0 || subMenuContent.length === 0) return;

        // Reset items to initial state
        const resetMenu = () => {
            menuItems.forEach(item => {
                item.style.transition = 'none';
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
            });
        };

        const resetContent = () => {
            subMenuContent.forEach(item => {
                item.style.transition = 'none';
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
            });
        };



        // Animate items line by line
        const animateMenu = () => {
            menuItems.forEach((item, index) => {
                item.style.transition = 'opacity 0.9s ease, transform 0.9s ease';
                item.style.transitionDelay = `${index * 200}ms`; // 100ms between lines
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            });
        };
        const animateContent = () => {
            subMenuContent.forEach((item, index) => {
                item.style.transition = 'opacity 0.9s ease, transform 0.9s ease';
                item.style.transitionDelay = `${index * 200}ms`; // 100ms between lines 
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            });
        };


        // Observe offcanvas open/close changes
        const observer = new MutationObserver(() => {
            const isOpen = offCanvas.getAttribute('aria-hidden') === 'false';
            if (isOpen) {
                animateMenu();
                animateContent();
            } else {
                resetMenu();
                resetContent();
            }
        });

        observer.observe(offCanvas, { attributes: true });
        resetMenu(); // ensure hidden initially
        resetContent();
    });



    // mobile bottom border

    document.addEventListener('DOMContentLoaded', () => {
        const button = document.querySelector('.button-group');
        if (!button) return;

        let lastScrollY = window.scrollY;

        window.addEventListener('scroll', () => {
            const currentScroll = window.scrollY;
            const pageHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (currentScroll / pageHeight) * 100;

            // Only work after 30% scroll
            if (scrollPercent < 30) {
                button.classList.remove('is-visible');
                button.classList.add('is-hidden');
                return;
            }

            if (currentScroll > lastScrollY) {

                button.classList.add('is-visible');
                button.classList.remove('is-hidden');
            }
            else {
                button.classList.remove('is-visible');
                button.classList.add('is-hidden');
            }

            lastScrollY = currentScroll;
        });
    });
    
</script>
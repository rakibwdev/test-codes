<script>
    const getAllImage = document.querySelectorAll('.lest_img');
    const getAllContent = document.querySelectorAll('.content_item');
    function removeActive() {
        getAllImage.forEach(item => item.setAttribute('show_status', false));
        getAllContent.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.offcanvas_menu .elementor-icon-list-items li').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeActive();
            getAllImage[index].setAttribute('show_status', true);
            getAllContent[index].setAttribute('show_status', true);
        })
    });

    // headmenue
    document.addEventListener('DOMContentLoaded', function () {
        const menu = document.querySelector('.head-menue-content');
        const menuItems = document.querySelectorAll('.head-menue-item .menu-item');
        const contents = document.querySelectorAll('.head-menue-content');
        // 	  const contents = document.querySelectorAll('.sub-menu-content');

        menuItems.forEach((item, index) => {
            // 		if (contents.length > 0) {
            //     contents[0].classList.add('active');
            //   }

            item.addEventListener('mouseenter', () => {
                contents.forEach(c => c.classList.remove('active'));
                if (contents[index]) {
                    contents[index].classList.add('active');
                }
            });
        });

        menu.addEventListener('mouseleave', () => {
            contents.forEach(c => c.classList.remove('active'));
        });
    });
    // end headmenue

    const getAllHeadContent = document.querySelectorAll('.head-menue-content');
    function removeHeadActive() {
        getAllHeadContent.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.head-menue-item .menu-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeHeadActive();
            getAllHeadContent[index].setAttribute('show_status', true);
        })
    });

    getAllHeadContent.forEach(item => {
        item.addEventListener('mouseleave', () => {
            removeHeadActive();
        });
    });


    // Submenu
    document.addEventListener('DOMContentLoaded', function () {
        const iconItems = document.querySelectorAll(
            '.sub-menu-item .elementor-icon-list-item'
        );
        const contents = document.querySelectorAll('.sub-menu-content');
        if (contents.length > 0) {
            contents[0].classList.add('active');
        }
        iconItems.forEach((item, index) => {
            item.addEventListener('mouseenter', () => {
                contents.forEach(c => c.classList.remove('active'));
                if (contents[index]) {
                    contents[index].classList.add('active');
                }
            });
        });
    });


    // atribute for submenu
    // submenu 1
    const getAllSubContent = document.querySelectorAll('.sub-menu-content');
    function removeSubActive() {
        getAllSubContent.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.sub-menu-item .elementor-icon-list-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeSubActive();
            getAllSubContent[index].setAttribute('show_status', true);
        })
    });
    // submenu 2
    const getAllSubContent2 = document.querySelectorAll('.sub-menu-content2');
    function removeSubActive2() {
        getAllSubContent2.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.sub-menu-item2 .elementor-icon-list-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeSubActive2();
            getAllSubContent2[index].setAttribute('show_status', true);
        })
    });
    // submenu3
    const getAllSubContent3 = document.querySelectorAll('.sub-menu-content3');
    function removeSubActive3() {
        getAllSubContent3.forEach(item => item.setAttribute('show_status', false));
    }
    document.querySelectorAll('.sub-menu-item3 .elementor-icon-list-item').forEach((item, index) => {
        item.addEventListener('mouseover', () => {
            removeSubActive3();
            getAllSubContent3[index].setAttribute('show_status', true);
        })
    });


    // end submenu
    

</script>


<style>
    .e-off-canvas[aria-hidden="false"] .e-off-canvas__content {
        transform: scaleX(1);
        transform-origin: center;
        will-change: transform, opacity;
        transition: transform 0.45s ease-in-out, opacity 0.3s ease-in-out;
        opacity: 1;
    }

    .e-off-canvas[aria-hidden="true"] .e-off-canvas__content {
        transform: scaleX(0.01);
        transform-origin: center;
        opacity: 0;
        will-change: transform, opacity;
        transition: transform 0.45s ease-in-out, opacity 0.3s ease-in-out;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const offCanvas = document.querySelector('.e-off-canvas');
  const items = document.querySelectorAll('.offcanvas_menu > *');

  if (!offCanvas || !items.length) return;

  // Reset items (initial state)
  const resetItems = () => {
    items.forEach(el => {
      el.style.transition = 'none';
      el.style.opacity = '0';
      el.style.transform = 'translateY(20px)';
    });
  };

  // Animate items line by line
  const animateItems = () => {
    items.forEach((el, i) => {
      el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
      el.style.transitionDelay = `${i * 150}ms`; // stagger timing
      el.style.opacity = '1';
      el.style.transform = 'translateY(0)';
    });
  };

  // Observe Elementor aria-hidden changes
  const observer = new MutationObserver(() => {
    const isOpen = offCanvas.getAttribute('aria-hidden') === 'false';
    if (isOpen) {
      animateItems();
    } else {
      resetItems();
    }
  });

  observer.observe(offCanvas, { attributes: true });
  resetItems(); // ensure initial state
});
</script>
